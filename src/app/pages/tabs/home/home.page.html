<ion-content [fullscreen]="true">
  <app-header title="Tareas"></app-header>
  <div class="content">
    <ion-button mode="ios" class="ion-margin" shape="round" size="small" (click)="addUpdateTask()">
        Nueva tarea
        <ion-icon slot="end" name="add-circle-outline"></ion-icon>
    </ion-button>
    <ion-grid fixed>
      <ion-row>
        <ion-col
          *ngFor="let tsk of tasks"
          size="12"
          size-lg="6"
          size-sm="12"
          size-mf="6"
        >
          <ion-card mode="ios">
            <ion-grid>
              <ion-row>
                <ion-col size="12" size-lg="5" size-sm="4" size-md="5">
                  <circle-progress
                    [percent]="getPercentage(tsk)"
                    [radius]="60"
                    [outerStrokeWidth]="6"
                    [innerStrokeWidth]="4"
                    [outerStrokeColor]="'#78C000'"
                    [innerStrokeColor]="'#C7E596'"
                    [animation]="true"
                    [animationDuration]="300"
                    [titleColor]="'var(--ion-color-dark)'"
                  ></circle-progress>
                </ion-col>
                <ion-col size="12" size-lg="7" size-sm="8" size-md="7">
                  <div class="title">{{tsk.title}}</div>
                  <p>{{tsk.description | slice:0:100}}...</p>
                  <div class="ion-text-center">
                  <ion-button  mode="ios" size="small" shape="round" (click)="addUpdateTask(tsk)">
                    Ver tarea
                    <ion-icon slot="end" name="eye-outline"></ion-icon>
                  </ion-button>
                  <ion-button  mode="ios" size="small" shape="round" color="danger">
                    Eliminar tarea
                    <ion-icon slot="end" name="trash-outline"></ion-icon>
                  </ion-button>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
